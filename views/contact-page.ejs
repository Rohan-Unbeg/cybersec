<%- include('partials/header') %>

<style>
  body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      
    }

    .navbar {
    transition: all 0.3s;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    background-color: rgba(255, 255, 255, 0.95);
    /* Updated to solid color */
  }

  .navbar-scrolled {
    background-color: rgba(255, 255, 255, 0.95);
    /* Updated to solid color */

  }
  #contact {
    background-color: var(--dark-color);
    color: var(--light-color);
    overflow: auto;
  }
  .footer {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #1a252f;
    color: white;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-light  fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/"><strong>CyberSecurity</strong></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="/#about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/#events">Events</a></li>
        <li class="nav-item"><a class="nav-link" href="/#team">Team</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container" style="max-width: 800px; padding: 30px;">
  <h2 class="text-center mb-4 mt-4">Contact Us</h2>
  <form id="contactForm">
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" class="form-control" id="name" placeholder="Your Name" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email address</label>
      <input type="email" class="form-control" id="email" placeholder="Your Email" required>
    </div>
    <div class="mb-3">
      <label for="message" class="form-label">Message</label>
      <textarea class="form-control" id="message" rows="4" placeholder="Your Message" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary btn-lg">Send Message</button>
  </form>
  <div id="responseMessage" class="mt-3"></div>
</div>

<script>
   // Contact form submission
   document.getElementById('contactForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission behavior

      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const message = document.getElementById('message').value;

      fetch('/send-email', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            name,
            email,
            message
          }),
        })
        .then(response => response.text())
        .then(data => {
          // Show success message
          document.getElementById('responseMessage').innerHTML =
            '<div class="alert alert-success">Thank you for your message. We\'ll get back to you soon!</div>';
          // Clear the form after submission
          document.getElementById('contactForm').reset();
        })
        .catch(error => {
          // Show error message
          document.getElementById('responseMessage').innerHTML =
            '<div class="alert alert-danger">Error sending message. Please try again later.</div>';
          console.error('Error:', error);
        });
    });
</script>

<%- include('partials/footer') %>